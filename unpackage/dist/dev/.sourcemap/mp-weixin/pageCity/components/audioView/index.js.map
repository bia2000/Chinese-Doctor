{"version":3,"sources":["webpack:///D:/project/bs/chinese-doctor/pageCity/components/audioView/index.vue?45f1","webpack:///D:/project/bs/chinese-doctor/pageCity/components/audioView/index.vue?2ce6","webpack:///D:/project/bs/chinese-doctor/pageCity/components/audioView/index.vue?e470","webpack:///D:/project/bs/chinese-doctor/pageCity/components/audioView/index.vue?05f6","uni-app:///pageCity/components/audioView/index.vue","webpack:///D:/project/bs/chinese-doctor/pageCity/components/audioView/index.vue?76c7","webpack:///D:/project/bs/chinese-doctor/pageCity/components/audioView/index.vue?cbab"],"names":["name","props","data","title","isPlaying","isPlayEnd","currentTime","currentTimeStr","duration","timeStr","computed","position","playImage","mounted","onUnload","methods","createAudio","uni","innerAudioContext","console","clearInterval","onchanging","onchange","play","pause","stop","formatTime","num","formatSecond","Math"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AAC2K;AAC3K,gBAAgB,oLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA6nB,CAAgB,kpBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyBjpB;AACA;AAAA,eACA;EACAA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA,wBACA,sCACA;IACA;EACA;EACAC;IACA;IACA;IACA;EACA;EACAC;IACA;MACA;IACA;EACA;EACAC;IACAC;MAAA;MACA,6CACAC;MACAC;MACAA;MACAA;QACAC;MACA;MACAD;QACA;UACA;YACAE;YACA;YACA;YACA;UACA;QACA;MACA;MACAF;QACA;UACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;;MACAA;QACA;QACA;QACA;QACA;MACA;MACAA;QACA;QACA;QACA;MACA;;MACA;IACA;IACAG;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;QACA;QACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACA;AACA;AACA;AACA;AACA;IACAC;MACA,QACAC,kCACA,mCACAA;MACA,QACAA,qCACA,sCACAA;MACA,QACAA,gCACA,iCACAA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AClKA;AAAA;AAAA;AAAA;AAA25B,CAAgB,q5BAAG,EAAC,C;;;;;;;;;;;ACA/6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pageCity/components/audioView/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=0fb273dc&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pageCity/components/audioView/index.vue\"\nexport default component.exports","export * from \"-!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=0fb273dc&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"audio-view\">\n    <view class=\"play-button-area\">\n      <image class=\"icon-play\" :src=\"playImage\" @click=\"play\"></image>\n    </view>\n    <view class=\"play-silder\" v-if=\"isPlaying && type == 1\">\n      <view class=\"audio-time\">\n        <text>{{ currentTimeStr }}</text>\n      </view>\n      <view class=\"audio-siler\">\n        <slider\n          :value=\"position\"\n          :min=\"0\"\n          :max=\"duration\"\n          @changing=\"onchanging\"\n          @change=\"onchange\"\n        ></slider>\n      </view>\n      <view class=\"audio-time\">\n        <text>{{ timeStr }}</text>\n      </view>\n    </view>\n  </view>\n</template>\n<script>\n// const audioUrl =\n//   'https://vkceyugu.cdn.bspapp.com/VKCEYUGU-hello-uniapp/2cc220e0-c27a-11ea-9dfb-6da8e309e0d8.mp3'\nexport default {\n  name: 'audioView',\n  props: ['audioUrl', 'type'],\n  data() {\n    return {\n      title: 'innerAudioContext',\n      isPlaying: false,\n      isPlayEnd: false,\n      currentTime: 0,\n      currentTimeStr: '00:00',\n      duration: 100,\n      timeStr: '00:00:00',\n    }\n  },\n  computed: {\n    position() {\n      return this.isPlayEnd ? 0 : this.currentTime\n    },\n    playImage() {\n      return this.isPlaying\n        ? '/pageCity/static/images/pause.png'\n        : '/pageCity/static/images/mp3.png'\n    },\n  },\n  mounted() {\n    this._isChanging = false\n    this._audioContext = null\n    // this.createAudio()\n  },\n  onUnload() {\n    if (this._audioContext != null && this.isPlaying) {\n      this.stop()\n    }\n  },\n  methods: {\n    createAudio() {\n      var innerAudioContext = (this._audioContext =\n        uni.createInnerAudioContext())\n      innerAudioContext.autoplay = false\n      innerAudioContext.src = this.audioUrl\n      innerAudioContext.onPlay(() => {\n        console.log('开始播放')\n      })\n      innerAudioContext.onCanplay(() => {\n        let timeid = setInterval(() => {\n          if (innerAudioContext.duration) {\n            clearInterval(timeid)\n            this.duration = innerAudioContext.duration || 0\n            // console.log(this.duration)\n            this.timeStr = this.formatSecond(this.duration)\n          }\n        }, 500)\n      })\n      innerAudioContext.onTimeUpdate((e) => {\n        if (this._isChanging === true) {\n          return\n        }\n        this.currentTime = innerAudioContext.currentTime || 0\n        this.duration = innerAudioContext.duration || 0\n        this.currentTimeStr = this.formatTime(this.currentTime)\n        //进度条最大值\n        // this.timeStr = this.formatSecond(this.duration);\n      })\n      innerAudioContext.onEnded(() => {\n        this.currentTime = 0\n        this.currentTimeStr = this.formatTime(this.currentTime)\n        this.isPlaying = false\n        this.isPlayEnd = true\n      })\n      innerAudioContext.onError((res) => {\n        this.isPlaying = false\n        // console.log(res.errMsg)\n        // console.log(res.errCode)\n      })\n      return innerAudioContext\n    },\n    onchanging() {\n      this._isChanging = true\n    },\n    onchange(e) {\n      // console.log(e.detail.value)\n      // console.log(typeof e.detail.value)\n      this._audioContext.seek(e.detail.value)\n      this._isChanging = false\n      const currTimeStr = this.formatTime(e.detail.value)\n      this.currentTimeStr = currTimeStr\n    },\n    play() {\n      if (this.isPlaying) {\n        this.pause()\n        return\n      }\n      this.createAudio()\n      this.isPlaying = true\n      this._audioContext.play()\n      this.isPlayEnd = false\n    },\n    pause() {\n      this._audioContext.pause()\n      this.isPlaying = false\n    },\n    stop() {\n      this._audioContext.stop()\n      this.isPlaying = false\n    },\n    formatTime(num) {\n      //格式化时间格式\n      num = num.toFixed(0)\n      let second = num % 60\n      if (second < 10) second = '0' + second\n      let min = Math.floor(num / 60)\n      if (min < 10) min = '0' + min\n      return min + ':' + second\n    },\n    /**\n     * 格式化时间\n     * @param {String} date 原始时间格式\n     * 格式后的时间：hh:mm:ss\n     **/\n    formatSecond(seconds) {\n      var h =\n        Math.floor(seconds / 3600) < 10\n          ? '0' + Math.floor(seconds / 3600)\n          : Math.floor(seconds / 3600)\n      var m =\n        Math.floor((seconds / 60) % 60) < 10\n          ? '0' + Math.floor((seconds / 60) % 60)\n          : Math.floor((seconds / 60) % 60)\n      var s =\n        Math.floor(seconds % 60) < 10\n          ? '0' + Math.floor(seconds % 60)\n          : Math.floor(seconds % 60)\n      return h + ':' + m + ':' + s\n    },\n  },\n}\n</script>\n<style>\n.audio-view {\n  display: flex;\n  justify-content: space-between;\n  /* border: 1rpx #dadada solid; */\n  padding: 10rpx 10rpx;\n  /* background-color: #ffffff; */\n}\n\n.play-time-area {\n  display: flex;\n  flex-direction: row;\n}\n\n.audio-time {\n  width: 150rpx;\n  line-height: 80rpx;\n}\n\n.duration {\n  margin-left: auto;\n}\n\n.audio-siler {\n  width: 100%;\n}\n\n.play-silder {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n}\n\n.play-button-area {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  width: 100rpx;\n}\n\n.icon-play {\n  margin: auto 0;\n  width: 50rpx;\n  height: 50rpx;\n  /* margin-top: 5rpx; */\n}\n</style>\n","import mod from \"-!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\sort\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1679650298215\n      var cssReload = require(\"C:/sort/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}