(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pratice/pratice"],{190:function(e,t,n){"use strict";(function(e,t){var r=n(4);n(26);r(n(25));var o=r(n(191));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n(1)["default"],n(2)["createPage"])},191:function(e,t,n){"use strict";n.r(t);var r=n(192),o=n(195);for(var u in o)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(u);n(198);var i,c=n(32),a=Object(c["default"])(o["default"],r["render"],r["staticRenderFns"],!1,null,"4eb51274",null,!1,r["components"],i);a.options.__file="pages/pratice/pratice.vue",t["default"]=a.exports},192:function(e,t,n){"use strict";n.r(t);var r=n(193);n.d(t,"render",(function(){return r["render"]})),n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return r["recyclableRender"]})),n.d(t,"components",(function(){return r["components"]}))},193:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"render",(function(){return o})),n.d(t,"staticRenderFns",(function(){return i})),n.d(t,"recyclableRender",(function(){return u})),n.d(t,"components",(function(){return r}));try{r={uSubsection:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-subsection/u-subsection")]).then(n.bind(null,453))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,471))}}}catch(c){if(-1===c.message.indexOf("Cannot find module")||-1===c.message.indexOf(".vue"))throw c;console.error(c.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var e=this,t=e.$createElement,r=(e._self._c,e.userId&&"1"==e.current?n(194):null),o=e.userId&&"1"==e.current?JSON.stringify(e.randomList):null,u=e.userId?"3"==e.current&&e.paperList.length>0:null;e.$mp.data=Object.assign({},{$root:{m0:r,g0:o,g1:u}})},u=!1,i=[];o._withStripped=!0},195:function(e,t,n){"use strict";n.r(t);var r=n(196),o=n.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(u);t["default"]=o.a},196:function(e,t,n){"use strict";(function(e){var r=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(55)),u=r(n(57)),i=n(162),c=n(163),a=n(197);function s(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,u=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw u}}}}function l(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(){n.e("components/zujuan/index").then(function(){return resolve(n(480))}.bind(null,n)).catch(n.oe)},p={components:{zujuan:d},data:function(){return{list:["专项答题","挑战答题","自由组卷","试卷答题"],list2:["模拟真题","试卷库"],deleteOpt:[{text:"删除",style:{backgroundColor:"#dd524d"}}],randomList:[],userList:[],userInfo:{num:0,rank:1},userId:"",key:"",current:0,current2:0,idSet:[],paper:[],paperList:[],publicList:[],scoreList:[]}},computed:{userInfo1:function(){return this.userInfo},title:function(){var e,t={},n=s(this.paper);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r.topic]?t[r.topic].push(r):t[r.topic]=[r]}}catch(l){n.e(l)}finally{n.f()}var o={title:[],len:[0]};if(o["title"]=Object.keys(t),o["title"].length>0){var u,i=s(o.title);try{for(i.s();!(u=i.n()).done;){var c=u.value;o["len"].push(t[c].length)}}catch(l){i.e(l)}finally{i.f()}}o.len.pop();for(var a=1;a<o.len.length;a++)o.len[a]=o.len[a]+o.len[a-1];return o},papers:function(){var e,t={title:null,time:[],score:[]},n={},r=s(this.paper);try{for(r.s();!(e=r.n()).done;){var o=e.value;n[o.paper_title]?n[o.paper_title].push(o):n[o.paper_title]=[o]}}catch(c){r.e(c)}finally{r.f()}t.title=Object.keys(n);var u=Object.values(n);for(var i in t.title)t.score.push(u[i][0].points),t.time.push(u[i][0].time_created);return t}},methods:{time:function(e){return(0,i.TimestampToDate)(e)},change:function(e){this.current=e,this.getPaperlist()},change2:function(e){this.current2=e},toCollect:function(e){if(null==e.isCollected?(e.isCollected="1",(0,c.updateUserAction)("count_collect",1),(0,c.getPoints)("iscollect",2)):e.isCollected=null,console.log(e),"0"==this.current2){var t=c.paper_public.getWithoutData(e.id);t.set("isCollected",e.isCollected),t.update()}else{var n=c.paper_user.getWithoutData(e.id);n.set("isCollected",e.isCollected),n.update()}},getPaperlist:function(){var e=this;c.query.queryObject.$and=[],c.query.contains("user_id",this.userId);var t=(0,c.getUserPaper)(c.query);t.then((function(t){e.paperList=t}));console.log(this.paperList.length)}},mounted:function(){var t=this;return(0,u.default)(o.default.mark((function n(){var r,u,i,s;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.userId=e.getStorageSync("id"),i=[],c.query.queryObject.$and=[],c.query.isNotNull("topic"),n.next=6,c.question_bank.setQuery(c.query).count().then((function(e){return e}),(function(e){console.log("error")}));case 6:r=n.sent,r&&(u=Math.ceil(r/1e3)),s=0;case 9:if(!(s<u)){n.next=16;break}return n.next=12,c.question_bank.limit(1e3).offset(1e3*s).find().then((function(e){return e.data.objects.forEach((function(e){t.paper.push(e),i.push(e.id)})),i}),(function(e){console.log("error")}));case 12:i=n.sent;case 13:s++,n.next=9;break;case 16:t.idSet=i,(0,a.getkeyword)().then((function(e){t.key=e}));case 18:case"end":return n.stop()}}),n)})))()},onShow:function(){var e=this;return(0,u.default)(o.default.mark((function t(){var n;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.userId,t.next=3,c.user_info.get(n).then((function(e){return e.data.num_question}));case 3:e.userInfo.num=t.sent,c.paper_public.find().then((function(t){e.publicList=t.data.objects})),c.query.queryObject.$and=[],c.user_info.limit(10).orderBy("-num_question").find().then((function(t){e.userList=[],e.userInfo.rank=1,t.data.objects.forEach((function(t){e.userInfo.num<t.num_question&&e.userInfo.rank++,e.userList.push({name:t.name,num:t.num_question})}))}),(function(e){console.log("error")})),setTimeout((function(){e.randomList=(0,i.getRandomArrayElements)(e.idSet,10)}),500);case 8:case"end":return t.stop()}}),t)})))()}};t.default=p}).call(this,n(2)["default"])},198:function(e,t,n){"use strict";n.r(t);var r=n(199),o=n.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(u);t["default"]=o.a},199:function(e,t,n){}},[[190,"common/runtime","common/vendor"]]]);