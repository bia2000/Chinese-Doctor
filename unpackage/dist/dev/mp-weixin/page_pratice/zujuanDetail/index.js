(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["page_pratice/zujuanDetail/index"],{365:function(e,n,t){"use strict";(function(e,n){var o=t(4);t(26);o(t(25));var i=o(t(366));e.__webpack_require_UNI_MP_PLUGIN__=t,n(i.default)}).call(this,t(1)["default"],t(2)["createPage"])},366:function(e,n,t){"use strict";t.r(n);var o=t(367),i=t(369);for(var r in i)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(r);t(371);var u,a=t(32),s=Object(a["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,"8cfda39c",null,!1,o["components"],u);s.options.__file="page_pratice/zujuanDetail/index.vue",n["default"]=s.exports},367:function(e,n,t){"use strict";t.r(n);var o=t(368);t.d(n,"render",(function(){return o["render"]})),t.d(n,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(n,"components",(function(){return o["components"]}))},368:function(e,n,t){"use strict";var o;t.r(n),t.d(n,"render",(function(){return i})),t.d(n,"staticRenderFns",(function(){return u})),t.d(n,"recyclableRender",(function(){return r})),t.d(n,"components",(function(){return o}));try{o={uPopup:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-popup/u-popup")]).then(t.bind(null,513))},uSubsection:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-subsection/u-subsection")]).then(t.bind(null,479))},uCellGroup:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-cell-group/u-cell-group")]).then(t.bind(null,572))},uCell:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-cell/u-cell")]).then(t.bind(null,580))},uButton:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-button/u-button")]).then(t.bind(null,596))},uModal:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-modal/u-modal")]).then(t.bind(null,685))}}}catch(a){if(-1===a.message.indexOf("Cannot find module")||-1===a.message.indexOf(".vue"))throw a;console.error(a.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var e=this,n=e.$createElement,t=(e._self._c,e.paper.length),o=t>0?e.__map(e.paper,(function(n,t){var o=e.__get_orig(n),i=e.title(n),r=n.question_content.length,u=n.question_content.length>10&&n.question_content.length<20,a=u?e.getFile(n.question_content):null,s=n.question_content.length,c=s<10?e.getFile(n.question_content):null;return{$orig:o,m0:i,g1:r,g2:u,m1:a,g3:s,m2:c}})):null,i=e.paper.length,r=1==e.current&&e.isAlive?e.paper.length:null,u=1==e.current&&e.isAlive?e.__map(e.type_question,(function(n,t){var o=e.__get_orig(n),i=e.ToCapital(t+1);return{$orig:o,m3:i}})):null;e._isMounted||(e.e0=function(n){e.show=!1},e.e1=function(n){e.show=!1},e.e2=function(n){e.isShow=!1}),e.$mp.data=Object.assign({},{$root:{g0:t,l0:o,g4:i,g5:r,l1:u}})},r=!1,u=[];i._withStripped=!0},369:function(e,n,t){"use strict";t.r(n);var o=t(370),i=t.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=i.a},370:function(e,n,t){"use strict";(function(e){var o=t(4);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t(18)),r=t(163),u=t(162),a=function(){Promise.all([t.e("common/vendor"),t.e("components/uni-ec-canvas/uni-ec-canvas")]).then(function(){return resolve(t(693))}.bind(null,t)).catch(t.oe)},s=function(){t.e("components/audioView/index").then(function(){return resolve(t(663))}.bind(null,t)).catch(t.oe)},c={components:{audioView:s,echarts:a},data:function(){return{show:!1,show2:!1,isAlive:!0,paperTitle:"",current:0,list:["题目明细","分数结构"],today:Number(new Date),paper:[],idList:[],isShow:!1}},computed:{type_question:function(){var e=["听力","阅读","写作"],n=[0,0,0];this.paper.map((function(t){e.map((function(e,o){t.primary_ques_type==e&&n[o]++}))}));var t=[];for(var o in e)t.push({name:e[o],value:n[o]});return t},grade_question:function(){var e,n=["一级","二级","三级"],t=[0,0,0];this.paper.map((function(o){n.map((function(n,i){e=new RegExp("".concat(n)),e.test(o.grade_standard)&&t[i]++}))}));var o=[];return o["name"]=n,o["value"]=t,o},score_q:function(){var e=["听力","阅读","写作"],n=[0,0,0];this.paper.map((function(t){e.map((function(e,o){t.primary_ques_type==e&&(n[o]+=1*t.score)}))}));var t=[];for(var o in e)t.push({name:e[o],value:n[o]});return t},option1:function(){return{option:{series:[{type:"pie",data:this.type_question}],tooltip:{trigger:"item",backgroundColor:"rgba(32, 33, 36,.7)",borderColor:"rgba(32, 33, 36,0.20)",borderWidth:1,textStyle:{color:"#fff",fontSize:"12"}}}}},option2:function(){return{option:{xAxis:{type:"value"},yAxis:{type:"category",data:this.grade_question.name},series:[{type:"bar",data:this.grade_question.value}],tooltip:{show:!0,trigger:"item",backgroundColor:"rgba(32, 33, 36,.7)",borderColor:"rgba(32, 33, 36,0.20)",borderWidth:1,textStyle:{color:"#fff",fontSize:"12"}}}}},option3:function(){return{option:{series:[{type:"pie",data:this.score_q}],tooltip:{trigger:"item",backgroundColor:"rgba(32, 33, 36,.7)",borderColor:"rgba(32, 33, 36,0.20)",borderWidth:1,textStyle:{color:"#fff",fontSize:"12"}}}}},score_question:function(){var e=0;return this.paper.forEach((function(n){e+=1*n.score})),e},options:function(){var e=null,n=[];n=this.paper.map((function(e){return e.options}));return this.paper.length>0&&(e=n.map((function(e){var n=(0,u.trimAll)(e),t=new RegExp('(?<=(content":")).*?(?=("))',"g");if(n)var o=n.match(t);return o}))),e}},methods:{change:function(e){this.current=e,this.reloadAll()},getDetail:function(){this.show=!0},ToCapital:function(e){return(0,u.numToCapital)(e)},reloadAll:function(){var e=this;this.isAlive=!1,this.$nextTick((function(){e.isAlive=!0}))},title:function(e){return e.primary_ques_type+"-"+e.secondary_ques_type},getFile:function(e){return"https://cloud-minapp-45998.cloud.ifanrusercontent.com/"+e},clickUp:function(e){if(e>0){var n=this.paper;n.splice.apply(n,[e-1,1].concat((0,i.default)(n.splice(e,1,n[e-1]))));var t=this.idList;t.splice.apply(t,[e-1,1].concat((0,i.default)(t.splice(e,1,t[e-1]))))}},clickDown:function(e){if(e<this.paper.length){var n=this.paper;n.splice.apply(n,[e,1].concat((0,i.default)(n.splice(e+1,1,n[e]))));var t=this.idList;t.splice.apply(t,[e,1].concat((0,i.default)(t.splice(e+1,1,t[e]))))}},clickDelete:function(e){var n=this.paper;n.splice(e,1);var t=this.idList;t.splice(e,1)},updateData:function(){var n=[];this.paper.map((function(e){var t=r.question_bank.getWithoutData(e.id);e.num_use=1*e.num_use+1,t.set("num_use",String(e.num_use)),t.update(),n.push(e.score)}));var t=e.getStorageSync("id");if("64646d1473e26ce437aeb672"==t){var o=r.paper_public.create();o.set({user_id:t,question_set:this.idList,score_paper:String(this.score_question),question_set_score:n,name:this.paperTitle}),o.save()}else{var i=r.paper_user.create();i.set({user_id:t,question_set:this.idList,score_paper:String(this.score_question),question_set_score:n,name:this.paperTitle}),i.save()}},setPaper:function(){this.paperTitle.length>1?(this.updateData(),e.reLaunch({url:"/pages/pratice/pratice"})):e.showToast({icon:"none",title:"请填写一个标题"})},exportPaper:function(){this.updateData(),this.show2=!1,this.isShow=!0},toCompose:function(){this.show2=!0,(0,r.updateuserInfo)("papers")}},watch:{},onLoad:function(){var e=this;this.paper=this.$store.state.question_set,this.paper.forEach((function(n){e.idList.push(n.id)}))},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){}};n.default=c}).call(this,t(2)["default"])},371:function(e,n,t){"use strict";t.r(n);var o=t(372),i=t.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=i.a},372:function(e,n,t){}},[[365,"common/runtime","common/vendor"]]]);